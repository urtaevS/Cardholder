<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>–ö–∞—Ä—Ç—ã –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.5/dist/JsBarcode.all.min.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- –≠–∫—Ä–∞–Ω –æ—Ç–∫–∞–∑–∞ –≤ –¥–æ—Å—Ç—É–ø–µ -->
    <div id="access-denied" class="access-denied hidden">
        <h1>üîí –î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â—ë–Ω</h1>
        <p>–≠—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª—å—Ü—É.</p>
    </div>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ -->
    <div id="app">
        <!-- –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω —Å–æ —Å–ø–∏—Å–∫–æ–º –∫–∞—Ä—Ç -->
        <div id="main-screen">
            <h1>üé´ –ú–æ–∏ –∫–∞—Ä—Ç—ã –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏</h1>
            
            <!-- –ö–Ω–æ–ø–∫–∏ —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è -->
            <div class="backup-buttons">
                <button id="export-btn" class="secondary-btn">üì• –≠–∫—Å–ø–æ—Ä—Ç</button>
                <button id="import-btn" class="secondary-btn">üì§ –ò–º–ø–æ—Ä—Ç</button>
            </div>
            
            <button id="add-card-btn" class="primary-btn">‚ûï –î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ä—Ç—É</button>
            <div id="cards-list"></div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–∞—Ä—Ç—ã -->
        <div id="add-screen" class="hidden">
            <h2>–î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ä—Ç—É</h2>
            <input type="text" id="card-name" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞" />
            
            <div id="scanner-container" class="hidden">
                <video id="video" autoplay playsinline muted></video>
                <canvas id="canvas" class="hidden"></canvas>
                <p class="scanner-hint">–ù–∞–≤–µ–¥–∏—Ç–µ –∫–∞–º–µ—Ä—É –Ω–∞ —à—Ç—Ä–∏—Ö–∫–æ–¥</p>
            </div>
            
            <button id="scan-btn" class="secondary-btn">üì∑ –°–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å —à—Ç—Ä–∏—Ö–∫–æ–¥</button>
            <input type="text" id="barcode-input" placeholder="–ò–ª–∏ –≤–≤–µ–¥–∏—Ç–µ —à—Ç—Ä–∏—Ö–∫–æ–¥ –≤—Ä—É—á–Ω—É—é" />
            
            <div class="button-group">
                <button id="save-card-btn" class="primary-btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                <button id="cancel-add-btn" class="secondary-btn">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∫–∞—Ä—Ç—ã -->
        <div id="view-screen" class="hidden">
            <button id="delete-card-btn" class="delete-btn" title="–£–¥–∞–ª–∏—Ç—å –∫–∞—Ä—Ç—É">‚úï</button>
            <h2 id="view-card-name"></h2>
            <div id="barcode-display"></div>
            <button id="back-btn" class="primary-btn">‚Üê –ù–∞–∑–∞–¥</button>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —É–¥–∞–ª–µ–Ω–∏—è -->
        <div id="confirm-modal" class="modal hidden">
            <div class="modal-content">
                <p>–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç—É –∫–∞—Ä—Ç—É?</p>
                <div class="button-group">
                    <button id="confirm-delete-btn" class="danger-btn">–£–¥–∞–ª–∏—Ç—å</button>
                    <button id="cancel-delete-btn" class="secondary-btn">–û—Ç–º–µ–Ω–∞</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/jsqr@1.4.0/dist/jsQR.js"></script>
    <script type="module" src="app.js"></script>
</body>
</html>
