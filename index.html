<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>–ö–∞—Ä—Ç—ã –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.5/dist/JsBarcode.all.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jsqr@1.4.0/dist/jsQR.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="app">
        <!-- –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω -->
        <div id="main-screen">
            <h1>üé´ –ú–æ–∏ –∫–∞—Ä—Ç—ã –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏</h1>
            <div class="backup-buttons">
                <button id="export-btn" class="secondary-btn">üì• –≠–∫—Å–ø–æ—Ä—Ç</button>
                <button id="import-btn" class="secondary-btn">üì§ –ò–º–ø–æ—Ä—Ç</button>
            </div>
            <button id="add-btn" class="primary-btn">‚ûï –î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ä—Ç—É</button>
            <div id="cards-list"></div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è -->
        <div id="add-screen" class="hidden">
            <h2 id="add-title">–î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ä—Ç—É</h2>
            <input type="text" id="name-input" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞" maxlength="50">
            <div class="color-picker">
                <label for="color-input">–¶–≤–µ—Ç —Ñ–æ–Ω–∞:</label>
                <input type="color" id="color-input" value="#3390ec">
            </div>
            <div id="scanner-container" class="hidden scanner-container">
                <video id="video" autoplay playsinline muted></video>
                <div class="scanner-hint">–ù–∞–≤–µ–¥–∏—Ç–µ –∫–∞–º–µ—Ä—É –Ω–∞ —à—Ç—Ä–∏—Ö–∫–æ–¥</div>
            </div>
            <input type="text" id="barcode-input" placeholder="–ò–ª–∏ –≤–≤–µ–¥–∏—Ç–µ —à—Ç—Ä–∏—Ö–∫–æ–¥ –≤—Ä—É—á–Ω—É—é">
            <div class="scan-options">
                <button id="scan-btn" class="secondary-btn">üì∑ –°–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –∫–∞–º–µ—Ä–æ–π</button>
                <button id="upload-btn" class="secondary-btn">üìÅ –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ</button>
            </div>
            <input type="file" id="file-input" accept="image/*" capture="environment">
            <div class="button-group">
                <button id="save-btn" class="primary-btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                <button id="cancel-btn" class="secondary-btn">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ -->
        <div id="view-screen" class="hidden view-screen">
            <button id="edit-btn" class="edit-delete-btn edit-btn" title="–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å">‚úèÔ∏è</button>
            <button id="delete-btn" class="edit-delete-btn delete-btn" title="–£–¥–∞–ª–∏—Ç—å">‚úï</button>
            <h2 id="view-name"></h2>
            <div id="barcode-display" class="barcode-display"></div>
            <button id="back-btn" class="primary-btn">‚Üê –ù–∞–∑–∞–¥</button>
        </div>
    </div>
    <canvas id="canvas" class="hidden"></canvas>
    <script src="app.js"></script>
</body>
</html>
